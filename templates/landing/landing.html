<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="csrf-token" content="{{ csrf_token() }}">
  <title>ParetoCalc Landing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

  <!-- ========== BEGIN ColorAdmin One-Page-Parallax CSS ========== -->
  <!-- Google Fonts (Open Sans) - in ColorAdmin-Demo, optional -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />

  <!-- vendor.min.css -> enthält Bootstrap + FontAwesome + Animate.css etc. -->
  <link href="/static/coloradmin/one-page-parallax/css/vendor.min.css" rel="stylesheet" />
  <!-- app.min.css -> enthält das Hauptlayout für One-Page-Parallax -->
  <link href="/static/coloradmin/one-page-parallax/css/app.min.css" rel="stylesheet" />
  <!-- ========== END ColorAdmin One-Page-Parallax CSS ========== -->

  <!-- Optional: Dein eigenes Custom-CSS -->
  <!-- <link href="/static/css/my-landing-custom.css" rel="stylesheet" /> -->

</head>
<body data-bs-spy="scroll" data-bs-target="#header" data-bs-offset="51">
<!-- In landing_page.html (ganz oben oder im Body) -->
<script>
window.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);
  if(params.has("msg")) {
    // Du kannst stattdessen auch ein Toast oder ein Alert-Box anzeigen
    alert("Hinweis: " + params.get("msg"));
  }
});
</script>
  <!-- BEGIN #page-container -->
  <div id="page-container" class="fade">

    <!-- BEGIN #header -->
    <div id="header" class="header navbar navbar-default navbar-fixed-top navbar-expand-lg">
      <div class="container">
        <!-- begin navbar-brand -->
        <a href="/" class="navbar-brand">
          <span class="brand-logo"></span>
          <span class="brand-text">
            <span class="text-theme">Pareto</span>Calc
          </span>
        </a>
        <!-- end navbar-brand -->

        <button type="button" class="navbar-toggle collapsed" data-bs-toggle="collapse" data-bs-target="#header-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <!-- begin navbar-collapse -->
        <div class="collapse navbar-collapse" id="header-navbar">
          <ul class="nav navbar-nav ms-auto">
            <!-- Smooth-Scroll links (per data-click="scroll-to-target")
                 oder interne Routen. Du kannst beides kombinieren. -->
            <li class="nav-item"><a class="nav-link active" href="#home" data-click="scroll-to-target">HOME</a></li>
            <li class="nav-item"><a class="nav-link" href="#about" data-click="scroll-to-target">ABOUT</a></li>
            <li class="nav-item"><a class="nav-link" href="#screenshots" data-click="scroll-to-target">SCREENSHOTS</a></li>
            <li class="nav-item"><a class="nav-link" href="#pricing" data-click="scroll-to-target">PRICING</a></li>
            <li class="nav-item"><a class="nav-link" href="/auth/login">LOGIN</a></li>
            <li class="nav-item"><a class="nav-link" href="/upgrade">UPGRADE</a></li>
          </ul>
        </div>
        <!-- end navbar-collapse -->
      </div>
    </div>
    <!-- END #header -->

    <!-- BEGIN #home (Hero-Sektion) -->
    <div id="home" class="content has-bg home">
      <div class="content-bg"
           style="background-image: url('/static/coloradmin/one-page-parallax/img/bg/bg-home.jpg');"
           data-paroller="true"
           data-paroller-type="foreground"
           data-paroller-factor="-0.25">
      </div>
      <div class="container home-content">
        <h1>Willkommen bei ParetoCalc</h1>
        <h3>Dein B2B-Kalkulations-Tool</h3>
        <p>
          Erstelle in Sekunden Kostenschätzungen für Fertigungsprozesse,<br/>
          unterstützt von KI und Parametrik.
        </p>
        <a href="/auth/login" class="btn btn-theme btn-primary">Jetzt loslegen</a>
        <a href="/upgrade" class="btn btn-theme btn-outline-white">Upgrade anzeigen</a>
      </div>
    </div>
    <!-- END #home -->

    <!-- BEGIN #about -->
    <div id="about" class="content" data-scrollview="true">
      <div class="container" data-animation="true" data-animation-type="animate__fadeInDown">
        <h2 class="content-title">Über ParetoCalc</h2>
        <p class="content-desc">
          ParetoCalc kombiniert hochpräzise Fertigungs-Kalkulationen mit KI-Unterstützung –
          damit Unternehmen ihre Produktionskosten in Sekunden im Blick haben.
          Schnell, transparent und auf die wesentlichen Stellhebel fokussiert.
        </p>
        <div class="row">
          <div class="col-lg-6">
            <h3>Unsere Story</h3>
            <p>
ParetoCalc entstand aus dem Anspruch, Fertigungskosten schnell, präzise und zuverlässig berechnen zu können – selbst bei komplexen Anforderungen.
Unser Ziel: Unternehmen ein leistungsstarkes Tool zu bieten, das Transparenz schafft, Risiken minimiert und Entscheidungen auf den Punkt bringt.
            </p>
          </div>
          <div class="col-lg-6">
            <h3>Unsere Vision</h3>
            <p>
              Wir möchten Fertigungsprozesse so zugänglich machen,
              dass jedes Unternehmen – egal ob Automotive oder Maschinenbau –
              schnell und sicher Kostenentscheidungen treffen kann.
              Parametrik trifft auf KI: das ist ParetoCalc.
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- END #about -->

    <!-- BEGIN #screenshots (8 Bilder) -->
    <div id="screenshots" class="content" data-scrollview="true">
      <div class="container" data-animation="true" data-animation-type="animate__fadeInDown">
        <h2 class="content-title">Beispiel-Screenshots</h2>
        <p class="content-desc">
          Ein Einblick in unsere Oberfläche und Berechnungsmodule.<br/>
        </p>
        <div class="row row-space-10">
          <!-- 8 Bilder, je .col-lg-3/.col-md-4 -->
          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v1.jpg" alt="Screen 1" />
              </div>
              <div class="desc">
                <span class="desc-title">Parameter-Tool</span>
                <span class="desc-text">Feinguss-Berechnungen</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v2.jpg" alt="Screen 2" />
              </div>
              <div class="desc">
                <span class="desc-title">Taktzeit-Rechner</span>
                <span class="desc-text">Spritzguss</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v3.jpg" alt="Screen 3" />
              </div>
              <div class="desc">
                <span class="desc-title">CO₂-Auswertung</span>
                <span class="desc-text">Emissionswerte</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v4.jpg" alt="Screen 4" />
              </div>
              <div class="desc">
                <span class="desc-title">KI-Hilfe</span>
                <span class="desc-text">ChatGPT-Integration</span>
              </div>
            </div>
          </div>

          <!-- Zeile 2 -->
          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v5.jpg" alt="Screen 5" />
              </div>
              <div class="desc">
                <span class="desc-title">Materialdaten</span>
                <span class="desc-text">Rohstoff-Kosten</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v6.jpg" alt="Screen 6" />
              </div>
              <div class="desc">
                <span class="desc-title">Maschinenkosten</span>
                <span class="desc-text">Maschinenstundensatzrechner</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v7.jpg" alt="Screen 7" />
              </div>
              <div class="desc">
                <span class="desc-title">Automotive UseCase</span>
                <span class="desc-text">Schnelle Angebotskalkulation</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-4">
            <div class="work">
              <div class="image">
                <img src="/static/coloradmin/one-page-parallax/img/work/screenshot-v8.jpg" alt="Screen 8" />
              </div>
              <div class="desc">
                <span class="desc-title">Vergleichstool</span>
                <span class="desc-text">Varianten in Sekunden</span>
              </div>
            </div>
          </div>

        </div> <!-- .row -->
      </div>
    </div>
    <!-- END #screenshots -->

 <!-- BEGIN #pricing -->
<div id="pricing" class="content bg-light" data-scrollview="true">
  <div class="container">
    <h2 class="content-title">Unsere Preise</h2>
    <p class="content-desc">
      Wähle den passenden Plan. Alle Abos mit flexiblem Stripe-Checkout,<br/>
      plus wahlweise Testphase (z.&nbsp;B. 7 Tage).
    </p>

    <!-- begin pricing-table -->
    <ul class="pricing-table pricing-col-3">
      <!-- PLUS -->
      <li data-animation="true" data-animation-type="animate__fadeInUp">
        <div class="pricing-container">
          <h3>Plus</h3>
          <div class="price">
            <div class="price-figure">
              <span class="price-number">299€</span>
              <span class="price-tenure">/Monat</span>
            </div>
          </div>
          <ul class="features">
            <li>50 KI-Abfragen / Monat</li>
            <li>Taktzeit &amp; Basis-Parametrik (Szenario&nbsp;1: keine Cloud-Speicherung)</li>
            <li>Ephemere Nutzung – nach Session-Ende kein Daten-Save</li>
            <li>1 User</li>
            <li>Optional 7&nbsp;Tage Test</li>
          </ul>
          <div class="footer">
            <a href="javascript:;" class="btn btn-inverse btn-theme btn-block" onclick="buyPlus()">
              Jetzt buchen
            </a>
          </div>
        </div>
      </li>

      <!-- PREMIUM (highlight) -->
      <li class="highlight" data-animation="true" data-animation-type="animate__fadeInUp">
        <div class="pricing-container">
          <h3>Premium</h3>
          <div class="price">
            <div class="price-figure">
              <span class="price-number">499€</span>
              <span class="price-tenure">/Monat</span>
            </div>
          </div>
          <ul class="features">
            <li>300 KI-Abfragen / Monat</li>
            <li>Alle Taktzeit- &amp; Parametrik-Rechner</li>
            <li>Material-, Maschinen- &amp; Lohnlisten</li>
            <li>Ephemere Nutzung – nach Session-Ende kein Daten-Save</li>
            <li>1 User</li>
          </ul>
          <div class="footer">
            <a href="javascript:;" class="btn btn-primary btn-theme btn-block" onclick="buyPremium()">
              Jetzt buchen
            </a>
          </div>
        </div>
      </li>

      <!-- EXTENDED -->
      <li data-animation="true" data-animation-type="animate__fadeInUp">
        <div class="pricing-container">
          <h3>Extended</h3>
          <div class="price">
            <div class="price-figure">
              <span class="price-number"></span>
            </div>
          </div>
          <ul class="features">
            <li>Unbegrenzte KI-Abfragen</li>
            <li>Alle Rechner &amp; Enterprise-Lösung</li>
            <li>Auf Anfrage: Datenbank, Cloud-Speicherung, On-Prem</li>
            <li>Jahreslizenz oder Projekttarif</li>
            <li>Team-Workflows</li>
          </ul>
          <div class="footer">
            <a href="mailto:info@paretocalc.com" class="btn btn-inverse btn-theme btn-block">
              Kontakt
            </a>
              </div>
            </div>
          </li>
        </ul>
        <!-- end pricing-table -->

      </div>
    </div>
    <!-- END #pricing -->

    <!-- FOOTER-BEREICH oder EXTRA-Footer unten -->
    <div id="footer" class="footer">
      <div class="container text-center">
        <p class="m-0">
          &copy; 2025 ParetoCalc. Alle Rechte vorbehalten.
          <br/>

        </p>
      </div>
    </div>
    <!-- END footer (Double-Definition,
         Du könntest den alten footer entfernen,
         wenn du das hier stattdessen nutzen möchtest) -->

  </div>
  <!-- END #page-container -->

  <!-- ================== BEGIN ColorAdmin One-Page-Parallax JS ================== -->
  <script src="/static/coloradmin/one-page-parallax/js/vendor.min.js"></script>
  <script src="/static/coloradmin/one-page-parallax/js/app.min.js"></script>
  <!-- ================== END ColorAdmin One-Page-Parallax JS ================== -->

  <!-- Payment-Skripte (Beispiel für Stripe-Kauf) -->
  <script>
window.addEventListener("DOMContentLoaded", () => {
  checkLicense(); // oder checkUserLogin();
});

async function buyPlus() {
      // 1) whoami checken (Prüfen, ob User eingeloggt ist)
      let whoRes = await fetch("/auth/whoami");
      let whoData = await whoRes.json();
      if (!whoData.logged_in) {
        // User ist nicht eingeloggt => Weiterleiten zum Login
        window.location = "/auth/login?next=%2F%23pricing";
        return;
      }

      // 2) User ist eingeloggt => Checkout-Vorgang starten
      try {
        let resp = await fetch("/pay/checkout-sub", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ which_tier: "plus" })
        });
        let d = await resp.json();

        if (d.error) {
          alert(d.error);
          return;
        }
        // Weiterleitung zu Stripe
        window.location = d.checkout_url;
      } catch (err) {
        alert("Fehler: " + err);
      }
    }

    // Button-Logik zum Kauf von PREMIUM (gleicher Ablauf, anderer Tier)
    async function buyPremium() {
      // 1) whoami checken
      let whoRes = await fetch("/auth/whoami");
      let whoData = await whoRes.json();
      if (!whoData.logged_in) {
        // User ist nicht eingeloggt => Weiterleiten zum Login
        window.location = "/auth/login?next=%2F%23pricing";
        return;
      }

      // 2) User ist eingeloggt => Checkout-Vorgang starten
      try {
        let resp = await fetch("/pay/checkout-sub", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ which_tier: "premium" })
        });
        let d = await resp.json();

        if (d.error) {
          alert(d.error);
          return;
        }
        // Weiterleitung zu Stripe
        window.location = d.checkout_url;
      } catch (err) {
        alert("Fehler: " + err);
      }
    }

    async function buyExtended() {
      try {
        const r = await fetch("/pay/checkout-sub", {
          method: "POST",
          headers: { "Content-Type":"application/json" },
          body: JSON.stringify({ which_tier: "extended" })
        });
        const d = await r.json();
        if(d.error) {
          alert(d.error);
          return;
        }
        window.location = d.checkout_url;
      } catch(err) {
        alert("Fehler: " + err);
      }
    }
  </script>

  <!-- COOKIE-BANNER -->
  <div id="cookieBanner" style="position: fixed; bottom: 0; left: 0; right: 0;
       background: #222; color: #fff; padding: 10px; display: none; z-index: 9999;">
    <p style="margin: 0;">
      Wir verwenden Cookies. Einige sind essenziell, andere helfen uns,
      unsere Seite zu verbessern. Mit Klick auf „Alle akzeptieren“ stimmen
      Sie der Verwendung zu.
      <a href="/datenschutz" style="color: #fff; text-decoration: underline;">
        Mehr Infos
      </a>
    </p>
    <button id="cookieAcceptAll" class="btn btn-sm btn-success" style="margin: 5px;">Alle akzeptieren</button>
    <button id="cookieDeclineAll" class="btn btn-sm btn-light" style="margin: 5px;">Nur essenzielle</button>
  </div>
  <script>
    (function(){
      function getCookie(name) {
        const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        if (match) return match[2];
      }
      if(!getCookie("cookieConsent")) {
        document.getElementById("cookieBanner").style.display = "block";
      }

      document.getElementById("cookieAcceptAll").addEventListener("click", function(){
        document.cookie = "cookieConsent=all; path=/; max-age="+(365*24*60*60);
        document.getElementById("cookieBanner").style.display = "none";
      });

      document.getElementById("cookieDeclineAll").addEventListener("click", function(){
        document.cookie = "cookieConsent=essential; path=/; max-age="+(365*24*60*60);
        document.getElementById("cookieBanner").style.display = "none";
      });
    })();
  </script>

  <!-- Zusätzlicher Footer mit Impressum-Links -->
  <hr/>
  <footer class="text-center my-3">
    <a href="/impressum">Impressum</a> |
    <a href="/datenschutz">Datenschutz</a> |
    <a href="/agb">AGB</a>
  </footer>

</body>
</html>
